@model Candidato

@{
    //Layout = "~/views/shared/_Layout.cshtml"; está na view Start
    ViewData["Title"] = "Detalhes";
}
<section class="container">
    <a class="btn btn-default" asp-action="Atualizar" asp-route-id="@Model.Id">Editar</a>

    <form asp-action="Excluir">
        <input type="hidden" asp-for="Id" />
        <button class="btn btn-danger">Excluir</button>
    </form>
    <div id="candidato">
        <h1>Nome: @Model.Nome</h1>
        <img src="/Candidato/Foto/@Model.Id" />
        <p>Endereço: @Model.Endereco </p>
        <p>Telefone : @Model.Telefone</p>
        <p>Email : @Model.Email</p>
    </div>
    <!--As redes Sociais podem ser incluidas aqui-->
    <div id="objetivo">
        <h1>Objetivo</h1>
        <p>
            @Model.Objetivo
        </p>
    </div>

    <div id="experiencia">
        <h1>Experiências</h1>
        <button class="btn btn-primary" data-toggle="modal" data-target="#modalExperiencia">Incluir</button>

        @foreach (var exp in Model.Experiencias)
        {
            <p>Empresa</p>
            <p>@exp.Empresa</p>
            <p>Cargo</p>
            <p>@exp.Cargo</p>
            <p>Descrição</p>
            <p>
                @exp.Descricao
            </p> //tag helper
            <form asp-action="ExcluirExperiencia">
                <input type="hidden" name="id" value="@exp.Id" />
                <button class="btn btn-danger">Excluir</button>
            </form>
        }
    </div>

    <div id="formacao">
        <h1>Formaçao</h1>
        <button class="btn btn-primary" data-toggle="modal" data-target="#modalFormacao">Incluir</button>
        @foreach (var formacao in Model.Formacoes)
        {
            <p>@formacao.Instituicao</p>
            <p>@formacao.AreaDeEstudo</p>
            <p>@formacao.DataEntrada.ToString("dd/MM/yyyy")</p>
            <p>@formacao.DataSaida.ToString("dd/MM/yyyy")</p>

            <form asp-action="ExcluirFormacao">
                <input type="hidden" name="id" value="@formacao.Id" />
                <button class="btn btn-danger">Excluir</button>
            </form>
        }

    </div>

    <div id="habilidades">
        <h1>Habilidades</h1>
        <button class="btn btn-primary" data-toggle="modal" data-target="#modalHabilidade">Incluir</button>
        <p>
            @foreach (var habilidade in Model.Habilidades)
            {
            <p>@habilidade.Skill</p>

            <form asp-action="ExcluirHabilidade">
                <input type="hidden" name="id" value="@habilidade.Id" />
                <button class="btn btn-danger">Excluir</button>
            </form>
        }
            </p>
        </div>
    </section>
    <footer></footer>

    <div class="modal fade" id="modalExperiencia" role="dialog">
        <partial name="IncluirExperiencia" model="new Experiencia() { CandidatoId = Model.Id }" /> <!--Asp outra maneira de fazer .net-->
    </div>
    <div class="modal fade" id="modalFormacao" role="dialog">
        <partial name="IncluirFormacao" model="new Formacao()" />
    </div>
    <div class="modal fade" id="modalHabilidade" role="dialog">
        <partial name="IncluirHabilidade" model="new Habilidade()" />
    </div>
   
 @section Scripts{
        <script>
            //$('#CandidatoId').val(@Model.Id);
            $('#FormacaoCandidatoId').val(@Model.Id);
            $('#HabilidadeCandidatoId').val(@Model.Id);
        </script>
    }
